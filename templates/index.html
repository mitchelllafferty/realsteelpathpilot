<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Upload CSV to Robot Path</title>
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
  />
</head>
<body class="container mt-5">
  <h2 class="text-center">Upload CSV for Robot Path Generation</h2>

  <!-- FORM -->
  <form
    action="/"
    method="post"
    enctype="multipart/form-data"
    class="d-flex flex-column align-items-center mt-4"
  >
    <input
      type="file"
      name="file"
      accept=".csv"
      id="fileInput"
      style="display: none;"
      onchange="this.form.submit()"
    />
    <button
      type="button"
      class="btn btn-primary"
      onclick="document.getElementById('fileInput').click()"
    >
      Upload CSV
    </button>
  </form>

  <!-- IF FILE_READY = TRUE, SHOW A DOWNLOAD LINK AND TABLE PREVIEW -->
  {% if file_ready %}
    <div class="mt-4 alert alert-success">
      <p>Your robot_path.py file has been generated.</p>
      <a href="{{ url_for('download_robot_code') }}" class="btn btn-success">
        Download Python File
      </a>
    </div>

    <h3>DataFrame Preview (First 10 Rows):</h3>
    <div class="table-responsive mt-3">
      {{ table_html|safe }}
    </div>
  {% endif %}

</body>
</html>
